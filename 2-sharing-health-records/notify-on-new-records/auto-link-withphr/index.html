<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.101.0"><meta name=description content="Documentation of various ABDM Building Blocks"><meta name=author content="NHA"><link rel=icon href=/abdm-docs/images/favicon.png type=image/png><title>Link a new record - ABDM Sandbox Documentation</title><link href=/abdm-docs/css/nucleus.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/fontawesome-all.min.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/hybrid.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/featherlight.min.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/perfect-scrollbar.min.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/auto-complete.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/atom-one-dark-reasonable.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/theme.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/tabs.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/hugo-theme.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/theme-blue.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/foo.css?1655711762 rel=stylesheet><link href=/abdm-docs/css/bar.css?1655711762 rel=stylesheet><script src=/abdm-docs/js/jquery-3.3.1.min.js?1655711762></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/abdm-docs/2-sharing-health-records/notify-on-new-records/auto-link-withphr/><nav id=sidebar><div id=header-wrapper><div id=header><img src=/abdm-docs/img/logo.png></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/abdm-docs/js/lunr.min.js?1655711762></script>
<script type=text/javascript src=/abdm-docs/js/auto-complete.js?1655711762></script>
<script type=text/javascript>var baseurl="http://kiranma72.github.io/abdm-docs"</script><script type=text/javascript src=/abdm-docs/js/search.js?1655711762></script></div><div class=highlightable><ul class=topics><li data-nav-id=/abdm-docs/1-basics/ title="Getting Started" class=dd-item><a href=/abdm-docs/1-basics/><b>1. </b>Getting Started</a><ul><li data-nav-id=/abdm-docs/1-basics/phr_architecture_overview/ title="Understanding the PHR Framework" class=dd-item><a href=/abdm-docs/1-basics/phr_architecture_overview/>Understanding the PHR Framework</a></li><li data-nav-id=/abdm-docs/1-basics/sandbox_signup_page/ title="Sign up to the ABDM Sandbox" class=dd-item><a href=/abdm-docs/1-basics/sandbox_signup_page/>Sign up to the ABDM Sandbox</a></li><li data-nav-id=/abdm-docs/1-basics/sandbox_request_status_page/ title="Verify you can access the Sandbox" class=dd-item><a href=/abdm-docs/1-basics/sandbox_request_status_page/>Verify you can access the Sandbox</a></li><li data-nav-id=/abdm-docs/1-basics/working_with_abdm_apis/ title="Working with ABDM APIs" class=dd-item><a href=/abdm-docs/1-basics/working_with_abdm_apis/>Working with ABDM APIs</a></li><li data-nav-id=/abdm-docs/1-basics/integrators_overview/ title="Making your App ABDM Compilant" class=dd-item><a href=/abdm-docs/1-basics/integrators_overview/>Making your App ABDM Compilant</a></li></ul></li><li data-nav-id=/abdm-docs/2-sharing-health-records/ title="Building a HRP" class="dd-item
parent"><a href=/abdm-docs/2-sharing-health-records/><b>2. </b>Building a HRP</a><ul><li data-nav-id=/abdm-docs/2-sharing-health-records/save-phr-address/ title="Collect & Save PHR Address" class=dd-item><a href=/abdm-docs/2-sharing-health-records/save-phr-address/><b>2.1 </b>Collect & Save PHR Address</a><ul><li data-nav-id=/abdm-docs/2-sharing-health-records/save-phr-address/scanning-hip-qr2/ title="By scanning HIP QR code" class=dd-item><a href=/abdm-docs/2-sharing-health-records/save-phr-address/scanning-hip-qr2/>By scanning HIP QR code</a></li><li data-nav-id=/abdm-docs/2-sharing-health-records/save-phr-address/scanning-phraddr-qr/ title="By scanning PHR Address QR" class=dd-item><a href=/abdm-docs/2-sharing-health-records/save-phr-address/scanning-phraddr-qr/>By scanning PHR Address QR</a></li><li data-nav-id=/abdm-docs/2-sharing-health-records/save-phr-address/shared-verbally/ title="By sharing PHR Address verbally" class=dd-item><a href=/abdm-docs/2-sharing-health-records/save-phr-address/shared-verbally/>By sharing PHR Address verbally</a></li><li data-nav-id=/abdm-docs/2-sharing-health-records/save-phr-address/new-vs-returning-patients/ title="New vs Returning Patients" class=dd-item><a href=/abdm-docs/2-sharing-health-records/save-phr-address/new-vs-returning-patients/>New vs Returning Patients</a></li></ul></li><li data-nav-id=/abdm-docs/2-sharing-health-records/discovery-from-phrapp/ title="Support Discovery of Records" class=dd-item><a href=/abdm-docs/2-sharing-health-records/discovery-from-phrapp/><b>2.2 </b>Support Discovery of Records</a></li><li data-nav-id=/abdm-docs/2-sharing-health-records/notify-on-new-records/ title="Notify or Link new records" class="dd-item
parent"><a href=/abdm-docs/2-sharing-health-records/notify-on-new-records/><b>2.3 </b>Notify or Link new records</a><ul><li data-nav-id=/abdm-docs/2-sharing-health-records/notify-on-new-records/notify-via-sms/ title="Notify via SMS" class=dd-item><a href=/abdm-docs/2-sharing-health-records/notify-on-new-records/notify-via-sms/>Notify via SMS</a></li><li data-nav-id=/abdm-docs/2-sharing-health-records/notify-on-new-records/auto-link-withphr/ title="Link a new record" class="dd-item active"><a href=/abdm-docs/2-sharing-health-records/notify-on-new-records/auto-link-withphr/>Link a new record</a></li></ul></li><li data-nav-id=/abdm-docs/2-sharing-health-records/push-records/ title="Share health data with Consent" class=dd-item><a href=/abdm-docs/2-sharing-health-records/push-records/><b>2.4 </b>Share health data with Consent</a><ul><li data-nav-id=/abdm-docs/2-sharing-health-records/push-records/consent-notification/ title="Save Consent Notifications" class=dd-item><a href=/abdm-docs/2-sharing-health-records/push-records/consent-notification/>Save Consent Notifications</a></li><li data-nav-id=/abdm-docs/2-sharing-health-records/push-records/datapush/ title class=dd-item><a href=/abdm-docs/2-sharing-health-records/push-records/datapush/></a></li></ul></li><li data-nav-id=/abdm-docs/2-sharing-health-records/using-fhir-for-data/ title="Using FHIR for data" class=dd-item><a href=/abdm-docs/2-sharing-health-records/using-fhir-for-data/><b>2.5 </b>Using FHIR for data</a></li><li data-nav-id=/abdm-docs/2-sharing-health-records/register_and_link_health_facility/ title="Link Health Facilities with HRP" class=dd-item><a href=/abdm-docs/2-sharing-health-records/register_and_link_health_facility/><b>2.6 </b>Link Health Facilities with HRP</a></li></ul></li><li data-nav-id=/abdm-docs/3-get-health-records/ title="Building a HIU" class=dd-item><a href=/abdm-docs/3-get-health-records/><b>3. </b>Building a HIU</a><ul><li data-nav-id=/abdm-docs/3-get-health-records/create-consent-request/ title="Creating of Consent request and notifying the patient" class=dd-item><a href=/abdm-docs/3-get-health-records/create-consent-request/><b>3.1 </b>Creating of Consent request and notifying the patient</a><ul><li data-nav-id=/abdm-docs/3-get-health-records/create-consent-request/creating-of-consent-request/ title="Creating of Consent request and notifying the patient" class=dd-item><a href=/abdm-docs/3-get-health-records/create-consent-request/creating-of-consent-request/>Creating of Consent request and notifying the patient</a></li></ul></li><li data-nav-id=/abdm-docs/3-get-health-records/consent-notification/ title="Patient Consent Notification from CM to HIU" class=dd-item><a href=/abdm-docs/3-get-health-records/consent-notification/><b>3.2 </b>Patient Consent Notification from CM to HIU</a></li><li data-nav-id=/abdm-docs/3-get-health-records/fetch-consent-artefact/ title="Fetching the Consent artefact" class=dd-item><a href=/abdm-docs/3-get-health-records/fetch-consent-artefact/><b>3.3 </b>Fetching the Consent artefact</a></li><li data-nav-id=/abdm-docs/3-get-health-records/data-request-and-transfer/ title="Data request and transfer" class=dd-item><a href=/abdm-docs/3-get-health-records/data-request-and-transfer/><b>3.4 </b>Data request and transfer</a></li></ul></li><li data-nav-id=/abdm-docs/4-building-a-phr-app/ title="Building a PHR App" class=dd-item><a href=/abdm-docs/4-building-a-phr-app/><b>4. </b>Building a PHR App</a><ul><li data-nav-id=/abdm-docs/4-building-a-phr-app/signup-or-signin/ title="Sign Up or Sign in" class=dd-item><a href=/abdm-docs/4-building-a-phr-app/signup-or-signin/><b>4.1 </b>Sign Up or Sign in</a></li><li data-nav-id=/abdm-docs/4-building-a-phr-app/edit-your-phr-profile/ title class=dd-item><a href=/abdm-docs/4-building-a-phr-app/edit-your-phr-profile/></a></li><li data-nav-id=/abdm-docs/4-building-a-phr-app/link-unlink-abha-number/ title class=dd-item><a href=/abdm-docs/4-building-a-phr-app/link-unlink-abha-number/></a></li><li data-nav-id=/abdm-docs/4-building-a-phr-app/sharing-your-phr-address-at-a-health-facility/ title class=dd-item><a href=/abdm-docs/4-building-a-phr-app/sharing-your-phr-address-at-a-health-facility/></a></li></ul></li><li data-nav-id=/abdm-docs/uhi/ title="Building UHI Apps" class=dd-item><a href=/abdm-docs/uhi/><b>5. </b>Building UHI Apps</a><ul><li data-nav-id=/abdm-docs/uhi/about_uhi/ title="UHI & the DHP Protocol" class=dd-item><a href=/abdm-docs/uhi/about_uhi/>UHI & the DHP Protocol</a></li><li data-nav-id=/abdm-docs/uhi/uhi_architecture_overview/ title="UHI Architecture Overview" class=dd-item><a href=/abdm-docs/uhi/uhi_architecture_overview/>UHI Architecture Overview</a></li><li data-nav-id=/abdm-docs/uhi/uhi_sandbox_registry/ title="Registrating your UHI app" class=dd-item><a href=/abdm-docs/uhi/uhi_sandbox_registry/>Registrating your UHI app</a></li><li data-nav-id=/abdm-docs/uhi/uhi_sandbox_gw/ title="Sandbox Gateway, EUA & HSPA" class=dd-item><a href=/abdm-docs/uhi/uhi_sandbox_gw/>Sandbox Gateway, EUA & HSPA</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/ title="Building UHI EUA App" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/><b>5.1 </b>Building UHI EUA App</a><ul><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/sign_up_with_phr/ title="Sign In/Up with PHR Addr" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/sign_up_with_phr/>Sign In/Up with PHR Addr</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/teleconsults/ title=Teleconsultations class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/teleconsults/><b>5.1.1 </b>Teleconsultations</a><ul><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/teleconsults/search_hspas_for_doctor/ title="Search HSPAs for Doctor" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/teleconsults/search_hspas_for_doctor/>Search HSPAs for Doctor</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/teleconsults/display_search_results/ title="Display Search Results" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/teleconsults/display_search_results/>Display Search Results</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/teleconsults/book-selected-doctor-or-facility/ title="Book Selected Doctor" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/teleconsults/book-selected-doctor-or-facility/>Book Selected Doctor</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/teleconsults/collect-payment-if-required/ title="Collect Payment" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/teleconsults/collect-payment-if-required/>Collect Payment</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/teleconsults/confirm-booking/ title="Confirm Booking" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/teleconsults/confirm-booking/>Confirm Booking</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/teleconsults/exchange-messages-with-doctor/ title="Exchange Messages with Doctor" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/teleconsults/exchange-messages-with-doctor/>Exchange Messages with Doctor</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/teleconsults/share-health-records/ title="Share Health Record" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/teleconsults/share-health-records/>Share Health Record</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/teleconsults/setup-webrtc/ title="Setup Video Call" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/teleconsults/setup-webrtc/>Setup Video Call</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/teleconsults/initiate-call-tele-consults/ title="Initiate Call" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/teleconsults/initiate-call-tele-consults/>Initiate Call</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-eua/teleconsults/get-final-prescription/ title="Get Final Prescription" class=dd-item><a href=/abdm-docs/uhi/building-uhi-eua/teleconsults/get-final-prescription/>Get Final Prescription</a></li></ul></li></ul></li><li data-nav-id=/abdm-docs/uhi/building-uhi-hspa/ title="Building UHI HSPA App" class=dd-item><a href=/abdm-docs/uhi/building-uhi-hspa/><b>5.2 </b>Building UHI HSPA App</a><ul><li data-nav-id=/abdm-docs/uhi/building-uhi-hspa/sign-up-or-sign-in-with-hpr-id/ title="Sign In or Sign UP with HPR ID" class=dd-item><a href=/abdm-docs/uhi/building-uhi-hspa/sign-up-or-sign-in-with-hpr-id/>Sign In or Sign UP with HPR ID</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-hspa/setup-for-teleconsultation/ title="Setup for Teleconsultation" class=dd-item><a href=/abdm-docs/uhi/building-uhi-hspa/setup-for-teleconsultation/>Setup for Teleconsultation</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-hspa/setup-for-physical-consultation/ title="Setup for Physical Consultation " class=dd-item><a href=/abdm-docs/uhi/building-uhi-hspa/setup-for-physical-consultation/>Setup for Physical Consultation</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-hspa/see-list-of-appointment-and-initiate-consultation/ title="See list of Appointments and Initiate Consultation" class=dd-item><a href=/abdm-docs/uhi/building-uhi-hspa/see-list-of-appointment-and-initiate-consultation/>See list of Appointments and Initiate Consultation</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-hspa/share-opd-notes-or-prescription/ title="Share OPD Notes or Prescription" class=dd-item><a href=/abdm-docs/uhi/building-uhi-hspa/share-opd-notes-or-prescription/>Share OPD Notes or Prescription</a></li><li data-nav-id=/abdm-docs/uhi/building-uhi-hspa/view-settlements/ title="Setup for Physical Consultation " class=dd-item><a href=/abdm-docs/uhi/building-uhi-hspa/view-settlements/>Setup for Physical Consultation</a></li></ul></li></ul></li><li data-nav-id=/abdm-docs/6-m1-apis/ title="ABHA Number" class=dd-item><a href=/abdm-docs/6-m1-apis/><b>6. </b>ABHA Number</a><ul><li data-nav-id=/abdm-docs/6-m1-apis/abha-id-registration/ title="Registration for ABHA" class=dd-item><a href=/abdm-docs/6-m1-apis/abha-id-registration/><b>6.1 </b>Registration for ABHA</a><ul><li data-nav-id=/abdm-docs/6-m1-apis/abha-id-registration/registration-via-aadhaar/ title="ABHA ID Registration via Aadhaar" class=dd-item><a href=/abdm-docs/6-m1-apis/abha-id-registration/registration-via-aadhaar/>ABHA ID Registration via Aadhaar</a></li><li data-nav-id=/abdm-docs/6-m1-apis/abha-id-registration/registration-via-other-documents/ title="ABHA ID Registration via Other Documents" class=dd-item><a href=/abdm-docs/6-m1-apis/abha-id-registration/registration-via-other-documents/>ABHA ID Registration via Other Documents</a></li><li data-nav-id=/abdm-docs/6-m1-apis/abha-id-registration/link-delink-abha-addr/ title="Link/De-link of ABHA Address" class=dd-item><a href=/abdm-docs/6-m1-apis/abha-id-registration/link-delink-abha-addr/>Link/De-link of ABHA Address</a></li></ul></li><li data-nav-id=/abdm-docs/6-m1-apis/login-abha-id/ title="Login with ABHA (Health ID)" class=dd-item><a href=/abdm-docs/6-m1-apis/login-abha-id/><b>6.2 </b>Login with ABHA (Health ID)</a><ul><li data-nav-id=/abdm-docs/6-m1-apis/login-abha-id/login-with-aadhaar-otp/ title="Login with Aadhaar OTP" class=dd-item><a href=/abdm-docs/6-m1-apis/login-abha-id/login-with-aadhaar-otp/>Login with Aadhaar OTP</a></li><li data-nav-id=/abdm-docs/6-m1-apis/login-abha-id/login-with-mobile-otp/ title="Login with Mobile OTP" class=dd-item><a href=/abdm-docs/6-m1-apis/login-abha-id/login-with-mobile-otp/>Login with Mobile OTP</a></li><li data-nav-id=/abdm-docs/6-m1-apis/login-abha-id/login-using-mobile/ title="Login to your ABHA using Mobile" class=dd-item><a href=/abdm-docs/6-m1-apis/login-abha-id/login-using-mobile/>Login to your ABHA using Mobile</a></li></ul></li><li data-nav-id=/abdm-docs/6-m1-apis/retrieve-abha-account/ title="Retrieve your ABHA account" class=dd-item><a href=/abdm-docs/6-m1-apis/retrieve-abha-account/><b>6.3 </b>Retrieve your ABHA account</a><ul><li data-nav-id=/abdm-docs/6-m1-apis/retrieve-abha-account/retrieve-abha-aadhaar-otp/ title="Retrieve ABHA via Aadhaar OTP" class=dd-item><a href=/abdm-docs/6-m1-apis/retrieve-abha-account/retrieve-abha-aadhaar-otp/>Retrieve ABHA via Aadhaar OTP</a></li><li data-nav-id=/abdm-docs/6-m1-apis/retrieve-abha-account/retrieve-abha-mobile-otp/ title="Retrieve ABHA via Mobile OTP" class=dd-item><a href=/abdm-docs/6-m1-apis/retrieve-abha-account/retrieve-abha-mobile-otp/>Retrieve ABHA via Mobile OTP</a></li></ul></li><li data-nav-id=/abdm-docs/6-m1-apis/user-profile/ title="User Profile" class=dd-item><a href=/abdm-docs/6-m1-apis/user-profile/><b>6.4 </b>User Profile</a><ul><li data-nav-id=/abdm-docs/6-m1-apis/user-profile/get-profile/ title="Get User profile" class=dd-item><a href=/abdm-docs/6-m1-apis/user-profile/get-profile/>Get User profile</a></li><li data-nav-id=/abdm-docs/6-m1-apis/user-profile/get-qr-code/ title="Get User QR Code" class=dd-item><a href=/abdm-docs/6-m1-apis/user-profile/get-qr-code/>Get User QR Code</a></li><li data-nav-id=/abdm-docs/6-m1-apis/user-profile/update-email/ title="Update Email" class=dd-item><a href=/abdm-docs/6-m1-apis/user-profile/update-email/>Update Email</a></li><li data-nav-id=/abdm-docs/6-m1-apis/user-profile/update-mobile-via-aadhaar-otp/ title="Update Mobile via Aadhaar Otp" class=dd-item><a href=/abdm-docs/6-m1-apis/user-profile/update-mobile-via-aadhaar-otp/>Update Mobile via Aadhaar Otp</a></li><li data-nav-id=/abdm-docs/6-m1-apis/user-profile/update-mobile-via-mobile-otp/ title="Update Mobile via Mobile Otp" class=dd-item><a href=/abdm-docs/6-m1-apis/user-profile/update-mobile-via-mobile-otp/>Update Mobile via Mobile Otp</a></li></ul></li><li data-nav-id=/abdm-docs/6-m1-apis/delete-abha/ title="Delete ABHA" class=dd-item><a href=/abdm-docs/6-m1-apis/delete-abha/><b>6.5 </b>Delete ABHA</a><ul><li data-nav-id=/abdm-docs/6-m1-apis/delete-abha/delete-via-aadhaar-otp/ title="Delete ABHA via Aadhaar Otp" class=dd-item><a href=/abdm-docs/6-m1-apis/delete-abha/delete-via-aadhaar-otp/>Delete ABHA via Aadhaar Otp</a></li><li data-nav-id=/abdm-docs/6-m1-apis/delete-abha/delete-via-mobile-otp/ title="Delete ABHA via Mobile Otp" class=dd-item><a href=/abdm-docs/6-m1-apis/delete-abha/delete-via-mobile-otp/>Delete ABHA via Mobile Otp</a></li></ul></li><li data-nav-id=/abdm-docs/6-m1-apis/deactivate-abha/ title="Deactivate ABHA" class=dd-item><a href=/abdm-docs/6-m1-apis/deactivate-abha/><b>6.6 </b>Deactivate ABHA</a><ul><li data-nav-id=/abdm-docs/6-m1-apis/deactivate-abha/deactivate-via-aadhaar-otp/ title="Deactivate ABHA via Aadhaar Otp" class=dd-item><a href=/abdm-docs/6-m1-apis/deactivate-abha/deactivate-via-aadhaar-otp/>Deactivate ABHA via Aadhaar Otp</a></li><li data-nav-id=/abdm-docs/6-m1-apis/deactivate-abha/deactivate-via-mobile-otp/ title="Deactivate ABHA via Mobile Otp" class=dd-item><a href=/abdm-docs/6-m1-apis/deactivate-abha/deactivate-via-mobile-otp/>Deactivate ABHA via Mobile Otp</a></li></ul></li><li data-nav-id=/abdm-docs/6-m1-apis/reactivate-abha/ title="Reactivate ABHA" class=dd-item><a href=/abdm-docs/6-m1-apis/reactivate-abha/><b>6.7 </b>Reactivate ABHA</a><ul><li data-nav-id=/abdm-docs/6-m1-apis/reactivate-abha/reactivate-via-aadhaar-otp/ title="Reactivate ABHA via Aadhaar OTP" class=dd-item><a href=/abdm-docs/6-m1-apis/reactivate-abha/reactivate-via-aadhaar-otp/>Reactivate ABHA via Aadhaar OTP</a></li><li data-nav-id=/abdm-docs/6-m1-apis/reactivate-abha/reactivate-via-mobile-otp/ title="Reactivate ABHA via Mobile OTP" class=dd-item><a href=/abdm-docs/6-m1-apis/reactivate-abha/reactivate-via-mobile-otp/>Reactivate ABHA via Mobile OTP</a></li></ul></li></ul></li><li data-nav-id=/abdm-docs/7-exiting-sandbox/ title="Sandbox Exit Process" class=dd-item><a href=/abdm-docs/7-exiting-sandbox/><b>7. </b>Sandbox Exit Process</a></li><li data-nav-id=/abdm-docs/content/ title=Contents class=dd-item><a href=/abdm-docs/content/>Contents</a><ul><li data-nav-id=/abdm-docs/content/9-health-facility-registry/hfr-registration-using-apis/ title class=dd-item><a href=/abdm-docs/content/9-health-facility-registry/hfr-registration-using-apis/></a></li></ul></li></ul><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/abdm-docs/>ABDM Sandbox Home</a> > <a href=/abdm-docs/2-sharing-health-records/>Building a HRP</a> > <a href=/abdm-docs/2-sharing-health-records/notify-on-new-records/>Notify or Link new records</a> > Link a new record</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#overview-of-the-functionality>Overview of the functionality:</a></li><li><a href=#api-request-response>API Request Response</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Link a new record</h1><h3 id=overview-of-the-functionality>Overview of the functionality:</h3><ul><li>Patient must have a valid PHR address</li><li>Patient PHR address is already shared with HIP/HRP either during registration or discovery method</li><li>A new health record is generated for this patient at the HRP</li><li>The HRP checks if it has a valid linking token saved or obtains a new token via demographic auth</li><li>The HRP decides if it will create a new care context for this health record or add to an existing care context</li><li>If it is a new care context then the HRP links it with the PHR address</li><li>If it is an existing care context, The HRP updates the existing care context</li></ul><p>Following is the API sequence diagram :</p><p><img src=../link-records.jpg alt="Deep Linking"></p><h3 id=api-request-response>API Request Response</h3><h4 id=1-add-the-care-context-to-the-phr-address>1. Add the care context to the PHR address</h4><p><strong>URL:</strong>
<strong><a href=https://dev.abdm.gov.in/gateway/v0.5/links/link/add-contexts>https://dev.abdm.gov.in/gateway/v0.5/links/link/add-contexts</a></strong></p><p><strong>METHOD</strong>: POST</p><p><strong>HEADERS</strong>:</p><ul><li>Authorization: Session Token using Client ID</li><li>X-CM-ID: sbx or adbm. Must be the same as the domain in the PHR address</li></ul><p><strong>Request Body:</strong></p><pre tabindex=0><code>{
     &#34;requestId&#34;: &#34;{{$guid}}&#34;,
     &#34;timestamp&#34;: &#34;{{timestamp}}&#34;,
    &#34;link&#34;: {
        &#34;accessToken&#34;: &#34;eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJraXJhbm1hQHNieCIsInJlcXVlc3RlclR5cGUiOiJISVAiLCJyZXF1ZXN0ZXJJZCI6IktULUhJUCIsInBhdGllbnRJZCI6ImtpcmFubWFAc2J4Iiwic2Vzc2lvbklkIjoiMzM4OWUwZGEtNzUyNS00OGNlLWIwYTMtZTdlMzk5ZjY0N2ZlIiwiZXhwIjoxNjU0NjU5MjYxLCJpYXQiOjE2NTQ1NzI4NjF9.ZNn9cmMiEWmiXm1X014RL7kls0dZ8knZe9COA8jrDAlNroyofi_DEjydDiwTMiaI0wIxvz8cOxth2trLiGdOri7LWpHSYqe4OPI_w7_KFFdOtRVZg_guAnX4NvEIicoU4fScHEEJRlzmiSskzUXSjbHqf1dz9qcKOH5-Mv9hA8zglBdxqH0X4OFBaDlyOgSSh2o5QEUvbM1hV1gl9ll1InnYgTTvBHlqg-KOYKK9lS6SVHDsKq3ULeguHFGCCNaBvLWr6-C6Hlf7oiqJsV-DoSISbezUPNa4vdMrwgAnCEaCsQFC-H-On5AbFpf7IM472gFVAj9s3tspaW1fC--bCw&#34;,
        &#34;patient&#34;: {
            &#34;referenceNumber&#34;: &#34;demo-care-context-21&#34;,
            &#34;display&#34;: &#34;OPD Records on 02-Jun-2022&#34;,
            &#34;careContexts&#34;: [
                {
                    &#34;referenceNumber&#34;: &#34;demo-care-context-21&#34;,
                    &#34;display&#34;: &#34;OPD Records on 02-Jun-2022&#34;
                }
            ]
        }
    }
}
</code></pre><p><strong>Response</strong>
202 Accepted</p><h4 id=2-ensure-response-is-a-success>2. Ensure response is a success</h4><p><strong>URL:</strong>
<strong>{HRP CALLBACK URL}/v0.5/links/link/on-add-contexts</strong></p><p><strong>METHOD</strong>: POST</p><p><strong>HEADERS</strong>:</p><ul><li>Authorization: Gateway JWT Token</li><li>X-HIP-ID: The HIP ID with which the access token was generated</li></ul><p><strong>Request Body:</strong></p><pre tabindex=0><code>{
  &#34;requestId&#34;: &#34;53e6d0dc-aecb-4027-a526-a13bd803f6f5&#34;,
  &#34;timestamp&#34;: &#34;2022-06-07T03:34:56.173438&#34;,
  &#34;acknowledgement&#34;: {
    &#34;status&#34;: &#34;SUCCESS&#34;
  },
  &#34;error&#34;: null,
  &#34;resp&#34;: {
    &#34;requestId&#34;: &#34;2b08d89e-fc37-47d3-bf02-946bbf85c583&#34;
  }
}
</code></pre><p><strong>Error if same care context is shared for linking</strong></p><pre tabindex=0><code>{
  &#34;requestId&#34;: &#34;5368150b-60cb-4d23-8c61-cd35b6c3f633&#34;,
  &#34;timestamp&#34;: &#34;2022-06-07T03:53:35.825703&#34;,
  &#34;acknowledgement&#34;: null,
  &#34;error&#34;: {
    &#34;code&#34;: 1439,
    &#34;message&#34;: &#34;Some of the Care Contexts are already linked, please remove the linked Care Contexts.&#34;
  },
  &#34;resp&#34;: {
    &#34;requestId&#34;: &#34;727ebb6e-9285-4f14-8c61-4e45e7a011d6&#34;
  }
}
</code></pre><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/abdm-docs/js/clipboard.min.js?1655711762></script>
<script src=/abdm-docs/js/perfect-scrollbar.min.js?1655711762></script>
<script src=/abdm-docs/js/perfect-scrollbar.jquery.min.js?1655711762></script>
<script src=/abdm-docs/js/jquery.sticky.js?1655711762></script>
<script src=/abdm-docs/js/featherlight.min.js?1655711762></script>
<script src=/abdm-docs/js/highlight.pack.js?1655711762></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/abdm-docs/js/modernizr.custom-3.6.0.js?1655711762></script>
<script src=/abdm-docs/js/learn.js?1655711762></script>
<script src=/abdm-docs/js/hugo-learn.js?1655711762></script>
<script src=https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>